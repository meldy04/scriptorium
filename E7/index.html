<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>Unit Converter</title>
</head>
<body>
  <script src="https://unpkg.com/react/umd/react.production.min.js"></script>
  <script src="https://unpkg.com/react-dom/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

  <div id="root"></div>

  <script type="text/babel">
    class Converter extends React.Component {
      constructor(props) {
        super(props);
        this.state = {
          conversionType: 'Length',
          fromUnit: 'Meter',
          toUnit: 'Feet',
          fromValue: 0,
          toValue: 0,
        };
      }

      handleConversionTypeChange = (event) => {
        const type = event.target.value;
        let fromUnit = '';
        let toUnit = '';

        if (type === 'Length') {
          fromUnit = 'Meter';
          toUnit = 'Feet';
        } else if (type === 'Weight') {
          fromUnit = 'Kilogram';
          toUnit = 'pounds';
        } else if (type === 'Temperature') {
          fromUnit = 'celsius';
          toUnit = 'fahrenheit';
        } else if (type === 'Area') {
          fromUnit = 'Square Meter';
          toUnit = 'Square Meter';
        }

        this.setState({
          conversionType: type,
          fromUnit,
          toUnit,
          fromValue: 0,
          toValue: 0,
        });
      };

      handleUnitChange = (event, isFromUnit) => {
        const unit = event.target.value;
        const { fromUnit, toUnit } = this.state;

        if (isFromUnit) {
          if (unit === toUnit) {
            this.setState({ fromUnit: unit, toUnit: this.getDifferentUnit(unit) }, this.convertFromValue);
          } else {
            this.setState({ fromUnit: unit }, this.convertFromValue);
          }
        } else {
          if (unit === fromUnit) {
            this.setState({ toUnit: unit, fromUnit: this.getDifferentUnit(unit) }, this.convertToValue);
          } else {
            this.setState({ toUnit: unit }, this.convertToValue);
          }
        }
      };

      getDifferentUnit = (currentUnit) => {
        const { conversionType } = this.state;
        const lengthUnits = ['Meter', 'Feet'];
        const weightUnits = ['Kilograms', 'pounds'];
        const temperatureUnits = ['celsius', 'fahrenheit', 'kelvin'];
        const areaUnits = ['Square Meter', 'Square Feet'];

        let units = [];

        if (conversionType === 'Length') {
          units = lengthUnits;
        } else if (conversionType === 'Weight') {
          units = weightUnits;
        } else if (conversionType === 'Temperature') {
          units = temperatureUnits;
        } else if (conversionType === 'Area') {
          units = areaUnits;
        }

        return units.find((unit) => unit !== currentUnit);
      };

      handleFromValueChange = (event) => {
        this.setState({ fromValue: event.target.value }, this.convertFromValue);
      };

      handleToValueChange = (event) => {
        this.setState({ toValue: event.target.value }, this.convertToValue);
      };

      convertFromValue = () => {
        const { fromValue, fromUnit, toUnit, conversionType } = this.state;
        let result = 0;

        if (conversionType === 'Length') {
          if (fromUnit === 'Meter' && toUnit === 'Feet') {
            result = (fromValue * 3.281).toFixed(2);
          } else if (fromUnit === 'Feet' && toUnit === 'Meter') {
            result = (fromValue / 3.281).toFixed(2);
          }
        } else if (conversionType === 'Weight') {
          if (fromUnit === 'kilograms' && toUnit === 'pounds') {
            result = (fromValue * 2.205).toFixed(2);
          } else if (fromUnit === 'pounds' && toUnit === 'kilograms') {
            result = (fromValue / 2.205).toFixed(2);
          }
        } else if (conversionType === 'Temperature') {
          if (fromUnit === 'celsius' && toUnit === 'fahrenheit') {
            result = (fromValue * 9 / 5) + 32;
          } else if (fromUnit === 'fahrenheit' && toUnit === 'celsius') {
            result = (fromValue - 32) * 5 / 9;
          } else if (fromUnit === 'celsius' && toUnit === 'kelvin') {
            result = parseFloat(fromValue) + 273.15;
          } else if (fromUnit === 'kelvin' && toUnit === 'celsius') {
            result = fromValue - 273.15;
          } else if (fromUnit === 'fahrenheit' && toUnit === 'kelvin') {
            result = (fromValue - 32) * 5 / 9 + 273.15;
          } else if (fromUnit === 'kelvin' && toUnit === 'fahrenheit') {
            result = (fromValue - 273.15) * 9 / 5 + 32 ;
          }
        } else if (conversionType === 'Area') {
          if (fromUnit === 'Square Meter' && toUnit === 'Square Feet') {
            result = (fromValue * 10.764).toFixed(2);
          } else if (fromUnit === 'Square Feet' && toUnit === 'Square Meter') {
            result = (fromValue / 10.764).toFixed(2);
          }
        }

        this.setState({ toValue: result });
      };

      convertToValue = () => {
        const { toValue, fromUnit, toUnit, conversionType } = this.state;
        let result = 0;

        if (conversionType === 'Length') {
          if (toUnit === 'Meter' && fromUnit === 'Feet') {
            result = (toValue * 3.281).toFixed(2);
          } else if (toUnit === 'Feet' && fromUnit === 'Meter') {
            result = (toValue / 3.281).toFixed(2);
          }
        } else if (conversionType === 'Weight') {
          if (toUnit === 'Kilogram' && fromUnit === 'pounds') {
            result = (toValue * 2.205).toFixed(2);
          } else if (toUnit === 'pounds' && fromUnit === 'Kilogram') {
            result = (toValue / 2.205).toFixed(2);
          }
        } else if (conversionType === 'temperature') {
          if (toUnit === 'celsius' && fromUnit === 'fahrenheit') {
            result = toValue * 9 / 5 + 32;
          } else if (toUnit === 'fahrenheit' && fromUnit === 'celsius') {
            result = (toValue - 32) * 5 / 9;
          } else if (toUnit === 'celsius' && fromUnit === 'kelvin') {
            result = parseFloat(toValue) + 273.15;
          } else if (toUnit === 'kelvin' && fromUnit === 'celsius') {
            result = toValue - 273.15;
          }
        } else if (conversionType === 'Area') {
          if (toUnit === 'Square Meter' && fromUnit === 'Square Feet') {
            result = (toValue * 10.764).toFixed(2);
          } else if (toUnit === 'Square Feet' && fromUnit === 'Square Meter') {
            result = (toValue / 10.764).toFixed(2);
          }
        }

        this.setState({ fromValue: result });
      };

      render() {
        const { conversionType, fromUnit, toUnit, fromValue, toValue } = this.state;

        const lengthUnits = ['Meter', 'Feet'];
        const weightUnits = ['Kilogram', 'pounds'];
        const temperatureUnits = ['celsius', 'fahrenheit', 'kelvin'];
        const areaUnits = ['Square Meter', 'Square Feet'];

        let units = [];
        if (conversionType === 'Length') {
          units = lengthUnits;
        } else if (conversionType === 'Weight') {
          units = weightUnits;
        } else if (conversionType === 'Temperature') {
          units = temperatureUnits;
        } else if (conversionType === 'Area') {
          units = areaUnits;
        }

        return (
          <div>
            <h2>Unit Converter</h2>

            <label>
              <select id="conversion-type" value={conversionType} onChange={this.handleConversionTypeChange}>
                <option value="Length">Length</option>
                <option value="Weight">Weight</option>
                <option value="Temperature">Temperature</option>
                <option value="Area">Area</option>
              </select>
            </label>

            <br /><br />

            <label>
              <select id="lhs-unit" value={fromUnit} onChange={(e) => this.handleUnitChange(e, true)}>
                {units.map((unit) => (
                  <option key={unit} value={unit}>
                    {unit}
                  </option>
                ))}
              </select>
              <input id="lhs-input"
                type="number"
                value={fromValue}
                onChange={this.handleFromValueChange}
              />
            </label>

            <label>
              <select id="rhs-unit" value={toUnit} onChange={(e) => this.handleUnitChange(e, false)}>
                {units.map((unit) => (
                  <option key={unit} value={unit}>
                    {unit}
                  </option>
                ))}
              </select>
              <input id="rhs-input"
                type="number"
                value={toValue}
                onChange={this.handleToValueChange}
              />
            </label>
          </div>
        );
      }
    }

    ReactDOM.render(<Converter />, document.getElementById('root'));
  </script>
</body>
</html>